# Prompts

## Milestone 1 (Complete)
- Slice 1: CLI scaffold + IO contract (stdout JSONL, stderr logs)
- Slice 2: Hyperliquid symbols discovery
- Slice 3: Hyperliquid subscribe trades with reconnect/backoff and retry cap
- Slice 4: Hyperliquid private positions gated by env vars
- Slice 5: Baseline docs + CI smoke notes

## Milestone 4 (Complete)
- Slice 1: Fixture replay harness + envelope JSONL assertions
- Slice 2: MEXC futures trades via mux (market key: mexc.fut)
- Slice 3: MEXC futures L2 via mux
- Slice 4: Documentation updates + tag v0.4.0

## Milestone 5 (Complete)
- Slice 1: Dotenv loader in CLI (optional load if present)
- Slice 2: Dotenv flags --dotenv and --no-dotenv
- Slice 3: Dotenv precedence rules + tests
- Slice 4: README updates + tag v0.5.0

## Milestone 6 (Complete)
- Slice 1: Execution split (Xws.Exec library + xws.exec.cli)
- Slice 2: Paper execution flows + deterministic tests
- Slice 3: Mainnet safety gates and idempotency guard
- Slice 4: Hyperliquid place/cancel/cancel-all (offline-safe tests)
- Slice 5: Documentation updates + tag v0.6.0

## Milestone 8 (Complete)
- Slice 1: OKX adapter structure (Core + config)
- Slice 2: OKX WS trades subscription (mux source)
- Slice 3: OKX WS L2 subscription (mux source)
- Slice 4: OKX mux registry integration (`okx.spot`, `okx.fut`)
- Slice 5: OKX WS funding subscription (mux source)
- Slice 6: OKX WS liquidations subscription (mux source)
- Slice 7: OKX WS mark price subscription (mux source)
- Slice 8: OKX offline fixtures + replay tests
- Slice 9: OKX execution adapter structure (client + REST interface)
- Slice 10: OKX place order (paper mode)
- Slice 11: OKX cancel order + cancel-all (paper mode)
- Slice 12: OKX amend order (paper mode)
- Slice 13: OKX query orders (paper mode snapshot)
- Slice 14: OKX query positions (paper mode snapshot)
- Slice 15: OKX added to xws.exec.cli via --exchange flag
- Slice 16: Bybit adapter structure (Core + config)
- Slice 17: Bybit WS trades subscription (mux source)
- Slice 18: Bybit WS L2 subscription (mux source)
- Slice 19: Bybit mux registry integration (`bybit.spot`, `bybit.fut`)
- Slice 20: Bybit WS funding subscription (mux source)
- Slice 21: Bybit WS liquidations subscription (mux source)
- Slice 22: Bybit WS mark price subscription (mux source)
- Slice 23: Bybit offline fixtures + replay tests
- Slice 24: Bybit execution adapter structure (client + REST interface)
- Slice 25: Bybit place order (paper mode)
- Slice 26: Bybit cancel order + cancel-all (paper mode)
- Slice 27: Bybit amend order (paper mode)
- Slice 28: Bybit query orders (paper mode snapshot)
- Slice 29: Bybit query positions (paper mode snapshot)
- Slice 30: Bybit added to xws.exec.cli via --exchange flag
- Slice 31: Hyperliquid funding rates WS subscription
- Slice 32: Hyperliquid liquidations WS subscription
- Slice 33: Hyperliquid mark price WS subscription
- Slice 34: Hyperliquid user fills WS subscription
- Slice 35: MEXC futures funding rates WS subscription
- Slice 36: MEXC futures mark price WS subscription
- Slice 37: Mux support for funding/liquidations/markprice/fills
- Slice 38: Offline fixtures for HL/MEXC expanded data types
- Slice 39: Exec CLI query orders command
- Slice 40: Exec CLI query positions command
- Slice 41: Exec CLI amend command
- Slice 42: Exec CLI place updated with --exchange flag for all exchanges
- Slice 43: scripts/demo-paper.sh created
- Slice 44: scripts/demo-paper.ps1 created
- Slice 45: README Quick Start: Paper Demo section added
- Slice 46: README examples updated for OKX/Bybit and new data types
- Slice 47: Windows test suite executed (Release)
- Slice 48: Linux test suite executed (Release)
- Slice 49: Acceptance demo workflow executed (HL + OKX + Bybit)
- Slice 50: README examples validated (core samples)
- Slice 51: PROJECT.md updated for M8 scope and exchanges
- Slice 52: PROMPTS.md updated for M8 slices
- Slice 53: DECISIONS.md updated with M8 architecture decisions
- Slice 54: MILESTONES.md updated with M8 completion and burst evaluations
- Slice 55: Release prep (CHECKLIST, clean root, version bump, tag v0.8.0)

## Milestone 9 (Complete)
- Slice 1: Create Xws.Core folder structure (Exchanges/{HL,OKX,Bybit,MEXC}/{WebSocket,Rest}, Shared/)
- Slice 2: Define core interfaces (IExchangeAdapter, IWebSocketClient, IMessageParser)
- Slice 3: Move shared utilities to Xws.Core/Shared (Logger)
- Slice 4: Run tests after folder restructure
- Slice 5: Refactor Hyperliquid adapter (WebSocket client/subscriptions/parser)
- Slice 6: Extract Hyperliquid REST client
- Slice 7: Refactor Hyperliquid execution adapter (Exec/Exchanges/HL)
- Slice 8: Run HL-specific tests
- Slice 9: Refactor OKX adapter (WebSocket client/subscriptions/parser)
- Slice 10: Refactor OKX execution adapter (Exec/Exchanges/OKX)
- Slice 11: Extract OKX shared logic (auth/config)
- Slice 12: Run OKX-specific tests
- Slice 13: Refactor Bybit adapter (WebSocket client/subscriptions/parser)
- Slice 14: Refactor Bybit execution adapter (Exec/Exchanges/Bybit)
- Slice 15: Refactor MEXC adapter (WebSocket client/parser)
- Slice 16: Run Bybit/MEXC-specific tests
- Slice 17: Refactor xws CLI Program.cs (Commands/)
- Slice 18: Refactor xws.exec.cli Program.cs (Commands/ + Execution/)
- Slice 19: Consolidate paper state management (versioning + recovery)
- Slice 20: Run full CLI test suite after refactor
- Slice 21: Measure v0.8.0 baseline performance
- Slice 22: Profile WebSocket parsing allocations
- Slice 23: Optimize WebSocket parsing (buffer reuse, allocations)
- Slice 24: Benchmark optimized parsing, document results
- Slice 25: Optimize REST clients (pooling/keep-alive/timeouts)
- Slice 26: Optimize paper execution state lookups
- Slice 27: Profile memory usage (long-running stream)
- Slice 28: Fix memory leaks, dispose on reconnect
- Slice 29: Implement rate limiter abstraction
- Slice 30: Add HL rate limiting (20/sec default)
- Slice 31: Add OKX/Bybit rate limiting (10/sec default)
- Slice 32: Test rate limiting (20 rapid orders)
- Slice 33: Improve reconnect logic (stale detection)
- Slice 34: Add connection health monitoring (ping/pong)
- Slice 35: Handle edge cases (partial/corrupt frames)
- Slice 36: Test connection stability (simulate interruption)
- Slice 37: Standardize error handling patterns
- Slice 38: Improve error messages (context + guidance)
- Slice 39: Harden paper state persistence (versioning + recovery)
- Slice 40: Test state corruption recovery
- Slice 41: Add unit tests for refactored modules
- Slice 42: Add integration tests (mux + multi-exchange exec)
- Slice 43: Add load tests (1000+ msg/sec, rapid orders)
- Slice 44: Measure test coverage (XPlat Code Coverage)
- Slice 45: Add edge case tests (malformed JSON, 429)
- Slice 46: Add state corruption tests
- Slice 47: Testnet validation HL
- Slice 48: Testnet validation OKX or Bybit
- Slice 49: Create ARCHITECTURE.md
- Slice 50: Create/expand OPERATIONS.md
- Slice 51: Add performance section to OPERATIONS.md
- Slice 52: Document testnet setup in OPERATIONS.md
- Slice 53: Update PROJECT.md for M9 scope
- Slice 54: Update PROMPTS.md for M9 slices
- Slice 55: Update DECISIONS.md for M9 architecture
- Slice 56: Update MILESTONES.md for M9 completion
- Slice 57: Release prep (CHECKLIST, clean root, version bump, tag v0.9.0)
